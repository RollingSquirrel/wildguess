<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wildguess - Planning Poker</title>
    <meta
      name="description"
      content="Wildguess is a fullstack application for planning poker, designed for small teams to estimate task effort."
    />
    <link rel="icon" type="image/svg+xml" href="./favicon.svg" />
    <link href="./dist/output.css" rel="stylesheet" />
    <style>
      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Particle canvas styling */
      #particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        pointer-events: none;
        opacity: 0.5;
      }

      /* Syntax highlighting simple overrides */
      .token-keyword {
        color: var(--color-primary);
      }
      .token-string {
        color: var(--color-info);
      }
      .token-comment {
        color: var(--color-text-muted);
      }
    </style>
  </head>
  <body
    class="bg-bg-primary text-text-primary min-h-screen antialiased selection:bg-primary selection:text-bg-primary"
  >
    <!-- Ambient glowing shapes -->
    <div
      class="fixed top-[-10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-primary-glow blur-[120px] opacity-20 pointer-events-none"
    ></div>
    <div
      class="fixed bottom-[-10%] right-[-10%] w-[30%] h-[30%] rounded-full bg-primary-glow blur-[100px] opacity-10 pointer-events-none"
    ></div>

    <canvas id="particles"></canvas>

    <!-- Navigation -->
    <nav
      class="sticky top-0 z-50 bg-bg-primary/80 backdrop-blur-md border-b border-border"
    >
      <div
        class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"
      >
        <div class="flex items-center gap-3">
          <span class="text-xl font-bold tracking-tight"
            >Wild<span class="text-primary">guess</span></span
          >
        </div>
        <div class="flex items-center gap-6">
          <a
            href="#quick-start"
            class="text-sm font-medium text-text-secondary hover:text-text-primary transition-colors"
            >Quick Start</a
          >
          <a
            href="#architecture"
            class="text-sm font-medium text-text-secondary hover:text-text-primary transition-colors"
            >Architecture</a
          >
          <a
            href="https://hub.docker.com/u/rollingsquirrel"
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium px-4 py-2 rounded-md bg-bg-surface hover:bg-bg-surface-hover border border-border transition-colors flex items-center gap-2"
          >
            <svg
              class="w-4 h-4"
              viewBox="0 0 1024 1024"
              xmlns="http://www.w3.org/2000/svg"
            >
              <circle cx="512" cy="512" r="512" style="fill: #0091e2" />
              <path
                d="M827.3 461.5c-1.6-1.3-16.1-12.2-46.7-12.2-8.1 0-16.2.6-24.2 2.1-5.9-40.7-39.5-60.5-41-61.4l-8.2-4.8-5.4 7.8c-6.8 10.5-11.7 22-14.6 34.2-5.5 23.2-2.2 45 9.6 63.6-14.2 7.9-37.1 9.9-41.7 10H277c-9.9 0-17.9 8-17.9 17.9-.4 33.1 5.2 66 16.5 97.1 13 34.2 32.4 59.3 57.6 74.7 28.2 17.3 74.1 27.2 126.2 27.2 23.5.1 47-2.1 70.1-6.4 32.1-5.9 63-17.1 91.4-33.2 23.4-13.6 44.5-30.8 62.4-51.1 29.9-33.9 47.8-71.7 61.1-105.2h5.3c32.8 0 53-13.1 64.1-24.1 7.4-7 13.2-15.5 16.9-25l2.3-6.9-5.7-4.3zM312 489.9h50.7c2.4 0 4.4-2 4.4-4.4v-45.1c0-2.4-2-4.4-4.4-4.5H312c-2.4 0-4.4 2-4.4 4.4v45.2c0 2.5 2 4.4 4.4 4.4m69.9 0h50.7c2.4 0 4.4-2 4.4-4.4v-45.1c0-2.4-2-4.4-4.4-4.5h-50.7c-2.5 0-4.5 2-4.5 4.5v45.1c0 2.5 2 4.4 4.5 4.4m70.8.1h50.7c2.4 0 4.4-2 4.4-4.4v-45.1c0-2.4-2-4.4-4.4-4.5h-50.7c-2.4 0-4.4 2-4.4 4.4v45.2c0 2.4 2 4.3 4.4 4.4m70.1 0h50.7c2.4 0 4.4-2 4.5-4.4v-45.1c0-2.5-2-4.5-4.5-4.5h-50.7c-2.4 0-4.4 2-4.4 4.4v45.2c0 2.4 1.9 4.4 4.4 4.4m-141-65h50.7c2.4 0 4.4-2 4.4-4.5v-45.1c0-2.4-2-4.4-4.4-4.4h-50.7c-2.5 0-4.4 2-4.5 4.4v45.1c.1 2.5 2.1 4.5 4.5 4.5m70.9 0h50.7c2.4 0 4.4-2 4.4-4.5v-45.1c0-2.4-2-4.4-4.4-4.4h-50.7c-2.4 0-4.4 2-4.4 4.4v45.1c0 2.5 2 4.5 4.4 4.5m70.1 0h50.7c2.5 0 4.4-2 4.5-4.5v-45.1c0-2.5-2-4.4-4.5-4.4h-50.7c-2.4 0-4.4 2-4.4 4.4v45.1c0 2.5 1.9 4.5 4.4 4.5m0-64.9h50.7c2.5 0 4.5-2 4.5-4.5v-45.2c0-2.4-2-4.4-4.5-4.4h-50.7c-2.4 0-4.4 2-4.4 4.4v45.2c0 2.5 1.9 4.5 4.4 4.5M593.4 490h50.7c2.4 0 4.4-2 4.4-4.4v-45.1c0-2.5-2-4.4-4.4-4.5h-50.7c-2.4 0-4.4 2-4.4 4.4v45.2c0 2.4 2 4.4 4.4 4.4"
                style="fill: #fff"
              />
            </svg>
            Docker Hub
          </a>
          <a
            href="https://github.com/RollingSquirrel/wildguess"
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium px-4 py-2 rounded-md bg-bg-surface hover:bg-bg-surface-hover border border-border transition-colors flex items-center gap-2"
          >
            <svg
              class="w-4 h-4"
              fill="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                fill-rule="evenodd"
                d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                clip-rule="evenodd"
              />
            </svg>
            GitHub
          </a>
        </div>
      </div>
    </nav>

    <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24">
      <!-- Hero Section -->
      <div class="text-center max-w-3xl mx-auto mb-20 animate-slide-up-slow">
        <h1 class="text-5xl sm:text-7xl font-extrabold tracking-tight mb-6">
          Planning Poker,<br />
          <span
            class="text-transparent bg-clip-text bg-linear-to-r from-primary to-info"
            >Self-Hosted.</span
          >
        </h1>
        <p class="text-xl text-text-secondary leading-relaxed mb-10">
          A gorgeous, real-time estimation tool for small teams. Built with an
          Angular standalone frontend, a lightweight Hono API, and Drizzle ORM,
          ready to deploy behind your reverse proxy.
        </p>
        <div class="flex items-center justify-center gap-4">
          <a
            href="#quick-start"
            class="px-8 py-3 rounded-lg bg-primary text-bg-primary font-bold hover:bg-primary-dim transition-colors shadow-[0_0_20px_var(--color-primary-glow)]"
          >
            Quick Start Guide
          </a>
          <a
            href="#architecture"
            class="px-8 py-3 rounded-lg bg-bg-surface border border-border text-text-primary hover:bg-bg-surface-hover transition-colors"
          >
            View Architecture
          </a>
        </div>
      </div>

      <!-- Quick Start Section -->
      <section id="quick-start" class="mb-24 pt-16 -mt-16">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-10 h-10 rounded-full bg-primary-subtle border border-primary/20 flex items-center justify-center text-primary"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z"
              />
            </svg>
          </div>
          <h2 class="text-3xl font-bold">Quick Start</h2>
        </div>

        <p class="text-text-secondary mb-6 text-lg">
          Deploy Wildguess instantly using our pre-built Docker containers.
          Everything is configured for a plug-and-play experience.
        </p>

        <div
          class="flex flex-col lg:flex-row justify-center gap-8 max-w-6xl mx-auto items-stretch"
        >
          <!-- Docker Compose Root -->
          <div class="doc-card flex-1 min-w-[280px]">
            <h3 class="text-xl font-bold mb-2 flex items-center gap-2">
              <span>Root Deployment</span>
              <span
                class="text-xs bg-bg-secondary px-2 py-1 rounded border border-border text-text-muted font-normal"
                >docker-compose.yml</span
              >
            </h3>
            <p class="text-sm text-text-secondary mb-4">
              Deploying directly to a root domain or local port (e.g.
              `localhost:80`).
            </p>

            <div class="doc-code-block">
              <button
                class="absolute top-3 right-3 text-text-muted hover:text-text-primary transition-colors"
                onclick="copyCode(this)"
                title="Copy code"
              >
                <svg
                  class="w-5 h-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                  ></path>
                </svg>
              </button>
              <pre><code>services:
  api:
    image: <span class="token-string">rollingsquirrel/wildguess-api:latest</span>
    restart: unless-stopped
    environment:
      - PORT=3000
      - DB_PATH=/data/sqlite.db
      - CORS_ORIGIN=*
    volumes:
      - wildguess-data:/data

  client:
    image: <span class="token-string">rollingsquirrel/wildguess:latest</span>
    restart: unless-stopped

  nginx:
    image: <span class="token-string">rollingsquirrel/wildguess-nginx:latest</span>
    restart: unless-stopped
    ports:
      - <span class="token-string">"80:80"</span>
    depends_on:
      - api
      - client

volumes:
  wildguess-data:</code></pre>
            </div>
          </div>

          <!-- Docker Compose Subpath -->
          <div class="doc-card flex-1 min-w-[280px]">
            <h3 class="text-xl font-bold mb-2 flex items-center gap-2">
              <span>Subpath Deployment</span>
              <span
                class="text-xs bg-bg-secondary px-2 py-1 rounded border border-border text-text-muted font-normal"
                >docker-compose.yml</span
              >
            </h3>
            <p class="text-sm text-text-secondary mb-4">
              Deploying under a specific path (e.g. `domain.com/wildguess/`).
            </p>

            <div class="doc-code-block">
              <button
                class="absolute top-3 right-3 text-text-muted hover:text-text-primary transition-colors"
                onclick="copyCode(this)"
                title="Copy code"
              >
                <svg
                  class="w-5 h-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"
                  ></path>
                </svg>
              </button>
              <pre><code>services:
  api:
    image: <span class="token-string">rollingsquirrel/wildguess-api:latest</span>
    restart: unless-stopped
    environment:
      - db_path=/data/sqlite.db
    volumes:
      - wildguess-data:/data

  client:
    image: <span class="token-string">rollingsquirrel/wildguess:latest</span>
    restart: unless-stopped
    environment:
      - BASE_URL=/wildguess/

  nginx:
    image: <span class="token-string">rollingsquirrel/wildguess-nginx:latest</span>
    restart: unless-stopped
    environment:
      - BASE_URL=/wildguess/
    ports:
      - <span class="token-string">"80:80"</span>

volumes:
  wildguess-data:</code></pre>
            </div>
            <div
              class="mt-4 p-3 bg-info-subtle border border-info/30 rounded-lg text-sm text-text-secondary"
            >
              <strong class="text-info">Note:</strong> The
              <code class="text-info">BASE_URL</code> environment variable tells
              the Nginx proxy to reroute requests and the Angular app to set its
              base href automatically.
            </div>
          </div>
        </div>
      </section>

      <!-- Architecture Section -->
      <section id="architecture" class="mb-24 pt-16 -mt-16">
        <div class="flex items-center gap-4 mb-8">
          <div
            class="w-10 h-10 rounded-full bg-primary-subtle border border-primary/20 flex items-center justify-center text-primary"
          >
            <svg
              class="w-5 h-5"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 002-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
              />
            </svg>
          </div>
          <h2 class="text-3xl font-bold">Architecture</h2>
        </div>

        <div
          class="flex flex-col md:flex-row justify-center gap-6 max-w-5xl mx-auto items-stretch flex-wrap"
        >
          <!-- Nginx -->
          <div class="doc-card flex-1 min-w-[250px] border-t-2 border-t-info">
            <div
              class="w-12 h-12 mb-4 rounded-xl bg-info-subtle flex items-center justify-center text-info"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-text-primary mb-2">
              Nginx Reverse Proxy
            </h3>
            <p class="text-text-secondary text-sm leading-relaxed">
              Acts as the single entrypoint. Routes
              <code class="text-info bg-info/10 px-1 rounded">/api</code>
              requests to the Node backend and all other requests to the Angular
              static client. Supports SSL termination.
            </p>
          </div>

          <!-- Client -->
          <div class="doc-card flex-1 min-w-[250px] border-t-2 border-t-danger">
            <div
              class="w-12 h-12 mb-4 rounded-xl bg-danger-subtle flex items-center justify-center text-danger"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-text-primary mb-2">
              Angular Client
            </h3>
            <p class="text-text-secondary text-sm leading-relaxed">
              A modern Angular v21 application using Signals, Tailwind CSS v4,
              and dynamic CSS phase animations. Statically compiled and served
              instantly.
            </p>
          </div>

          <!-- API -->
          <div
            class="doc-card flex-1 min-w-[250px] border-t-2 border-t-primary"
          >
            <div
              class="w-12 h-12 mb-4 rounded-xl bg-primary-subtle flex items-center justify-center text-primary"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"
                ></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-text-primary mb-2">
              Hono API + SQLite
            </h3>
            <p class="text-text-secondary text-sm leading-relaxed">
              A blazingly fast Node.js backend using Hono and Drizzle ORM.
              Stores state in a reliable SQLite database using WAL mode for high
              concurrency.
            </p>
          </div>
        </div>

        <div class="mt-8 p-6 bg-bg-card rounded-xl border border-border">
          <h4 class="font-bold mb-3 flex items-center gap-2">
            <span class="w-2 h-2 rounded-full bg-primary animate-pulse"></span>
            No WebSockets Required
          </h4>
          <p class="text-text-secondary text-sm text-balance">
            By heavily relying on short-polling (default 3s), Wildguess
            dramatically simplifies frontend deployments behind arbitrary load
            balancers without requiring complex sticky session algorithms or
            persistent connection keepalives.
          </p>
        </div>
      </section>
    </main>

    <footer class="border-t border-border mt-20 bg-bg-primary">
      <div
        class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row items-center justify-between gap-4"
      >
        <div class="flex items-center gap-2">
          <span class="text-text-secondary text-sm"
            >Wildguess Planning Poker</span
          >
        </div>
        <p class="text-text-muted text-sm">
          Built with ❤️ for better agile estimates.
        </p>
      </div>
    </footer>

    <!-- Particle Script & Copy Utility -->
    <script>
      function copyCode(button) {
        const pre = button.nextElementSibling;
        const text = pre.textContent;
        navigator.clipboard.writeText(text).then(() => {
          const icon = button.innerHTML;
          button.innerHTML =
            '<svg class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
          setTimeout(() => {
            button.innerHTML = icon;
          }, 2000);
        });
      }

      // Extremely lightweight ambient particles
      const canvas = document.getElementById("particles");
      const ctx = canvas.getContext("2d");

      let width = (canvas.width = window.innerWidth);
      let height = (canvas.height = window.innerHeight);

      const particles = Array.from({ length: 40 }, () => ({
        x: Math.random() * width,
        y: Math.random() * height,
        size: Math.random() * 2 + 0.5,
        vx: (Math.random() - 0.5) * 0.2,
        vy: (Math.random() - 0.5) * 0.2 - 0.1,
      }));

      function draw() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = "#00e676"; // primary color

        particles.forEach((p) => {
          p.x += p.vx;
          p.y += p.vy;

          if (p.x < 0) p.x = width;
          if (p.x > width) p.x = 0;
          if (p.y < 0) p.y = height;
          if (p.y > height) p.y = 0;

          ctx.beginPath();
          ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
          ctx.globalAlpha = 0.5; // subtle
          ctx.fill();
        });
        requestAnimationFrame(draw);
      }

      draw();

      window.addEventListener("resize", () => {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>
